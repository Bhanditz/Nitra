using Nemerle;
using Nemerle.Collections;
using Nemerle.Text;
using Nemerle.Utility;

using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.IO;
using System.Linq;

namespace Nitra.ViewModels
{
  public class SolutionVm : FolderVm[ProjectVm]
  {
    public override Hint: string { get { "Solution" }}

    public this(suite: SuiteVm, folder: string)
    {
      base(suite, folder);
    }
    
    protected override CreateChildren(): Seq[ProjectVm]
    {
      Directory
        .GetDirectories(FullPath)
        .OrderBy(x => x)
        .Map(x => ProjectVm(Suite, this, x))
    }
  }
}