syntax module M1
{
  using Whitespaces;

  syntax R1 = R2?
  {
    map D1
    {
      R2Opt -> Items; // E: Cannot map 'M1\.R2\?' to 'D2\*'
      R2Opt -> S;     // E: Declaration 'D2' is not subtype of declaration 'D3'
    }
  }
 
  syntax R2 = "x"
  {
    map D2
    {
      A = 10;
    }
  }
}

ast D1
{
  Items : D2*;
  S     : D3?;
}

ast D2
{
  A : int;
}

ast D3
{
  S : Nitra.NSpan;
}
