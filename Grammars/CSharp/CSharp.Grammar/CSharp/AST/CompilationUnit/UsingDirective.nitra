using Nitra.Declarations;
using Nitra.Runtime.Binding;

namespace CSharp
{

  asts UsingDirective
  {
    inout ScopeBuilder : UsingsScopeBuilder;

    | Alias
      {
        NamespaceOrTypeName.Scope = ScopeBuilderIn.Current;
        ScopeBuilderOut = ScopeBuilderIn.Alias(Name, NamespaceOrTypeName.Symbol, NamespaceOrTypeName);

        Name                : Reference;
        NamespaceOrTypeName : QualifiedReference;
      }
    | Open
      {
        NamespaceOrTypeName.Scope = ScopeBuilderIn.Current;
        ScopeBuilderOut = ScopeBuilderIn.Open(NamespaceOrTypeName.Symbol, NamespaceOrTypeName);

        NamespaceOrTypeName : QualifiedReference;
      }
  }

  map syntax TopDeclarations.UsingDirective -> UsingDirective
  {
    | Alias
      {
        Name          -> Name;
        QualifiedName -> NamespaceOrTypeName;
      }
    | Open
      {
        QualifiedName -> NamespaceOrTypeName;
      }
  }
}
