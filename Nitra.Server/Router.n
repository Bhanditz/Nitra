using Nemerle;
using Nemerle.Collections;
using Nemerle.Text;
using Nemerle.Utility;

using System;
using System.Threading;
using System.Collections.Generic;
using System.Collections.Concurrent;
using System.Linq;

namespace Nitra.Server
{
  class Router
  {
    _mainQueue: BlockingCollection[object] = BlockingCollection();
    _mainThread: Thread;

    public this()
    {
      _mainThread = Thread(() =>
      {
        foreach(msg in _mainQueue.GetConsumingEnumerable())
          ()
      });
      _mainThread.Start()
    }
    
    public AddMessage(msg: object): void
    {
      _mainQueue.Add(msg)
    }
  }
}
